function d(i){const n=i.match(/^---\r?\n([\s\S]*?)\r?\n---\r?\n([\s\S]*)$/);if(!n)return{data:{},content:i};const s=n[1],o=n[2],a={};for(const e of s.split(`
`)){const r=e.trim();if(!r||r.startsWith("#"))continue;const c=r.indexOf(":");if(c===-1)continue;const f=r.slice(0,c).trim();let t=r.slice(c+1).trim();if(typeof t=="string"&&(t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"))&&(t=t.slice(1,-1)),typeof t=="string"&&t.startsWith("[")&&t.endsWith("]"))try{t=JSON.parse(t)}catch{t=t.slice(1,-1).split(",").map(l=>l.trim().replace(/^["']|["']$/g,"")).filter(Boolean)}t==="true"&&(t=!0),t==="false"&&(t=!1),t===""&&(t=""),a[f]=t}return{data:a,content:o}}function u(i){var s;const n=[];for(const[o,a]of Object.entries(i)){if(typeof a!="string")continue;const{data:e,content:r}=d(a),c=e.slug||((s=o.split("/").pop())==null?void 0:s.replace(/\.md$/,""))||"",f={title:e.title||"Untitled",description:e.description||"",date:e.date||"",slug:c,cover:e.cover,tags:e.tags||[],draft:e.draft||!1,...e};f.draft||n.push({meta:f,content:r})}return n.sort((o,a)=>{const e=new Date(o.meta.date).getTime()||0;return(new Date(a.meta.date).getTime()||0)-e}),n}function m(i,n){return i.find(s=>s.slug===n)}function p(i,n){return i.find(s=>s.meta.slug===n)}export{m as a,p as f,u as l};
